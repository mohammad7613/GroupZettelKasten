/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var T=Object.defineProperty;var L=Object.getOwnPropertyDescriptor;var I=Object.getOwnPropertyNames;var F=Object.prototype.hasOwnProperty;var U=(l,c)=>{for(var e in c)T(l,e,{get:c[e],enumerable:!0})},k=(l,c,e,n)=>{if(c&&typeof c=="object"||typeof c=="function")for(let t of I(c))!F.call(l,t)&&t!==e&&T(l,t,{get:()=>c[t],enumerable:!(n=L(c,t))||n.enumerable});return l};var P=l=>k(T({},"__esModule",{value:!0}),l);var A={};U(A,{default:()=>y});module.exports=P(A);var a=require("obsidian"),_={defaultTemplate:"YYYY-MM-DD_HH-mm-ss",defaultContent:""},y=class extends a.Plugin{constructor(){super(...arguments);this.globalCounter=1;this.namedCounters={}}async onload(){await this.loadSettings(),this.addRibbonIcon("file-plus","Create note with template filename",()=>{new S(this.app,this).open()}),this.addCommand({id:"create-note-with-template-filename",name:"Create note with template filename",callback:()=>{new S(this.app,this).open()}}),this.addCommand({id:"create-note-with-default-template",name:"Create note with default template",callback:async()=>{try{let e=this.processTemplate(this.settings.defaultTemplate),n=await this.createNote(e,this.settings.defaultContent);new a.Notice(`Created note: ${n.name}`);let t=this.app.workspace.getLeaf(!1);t&&await t.openFile(n)}catch(e){}}}),this.addSettingTab(new E(this.app,this))}onunload(){}async loadSettings(){this.settings=Object.assign({},_,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}processTemplate(e){let n=this.tokenizeTemplate(e),t="";for(let s of n)s.type==="text"&&s.value!==void 0?t+=s.value:s.type==="variable"&&s.name!==void 0&&(t+=this.processVariable(s.name,s.params||[]));return t}tokenizeTemplate(e){let n=[],t=0,s=["YYYY","YY","MMMM","MMM","MM","M","DDD","DD","D","dddd","ddd","WW","Q","HH","H","mm","m","ss","s","SSS"];for(;t<e.length;){let i=!1;for(let r of s)if(e.substring(t).startsWith(r)){if(t>0){let o=e.substring(0,t);o&&n.push({type:"text",value:o})}n.push({type:"variable",name:r,params:[]}),e=e.substring(t+r.length),t=0,i=!0;break}if(!i){if(e[t]==="{"){let r=e.indexOf("}",t);if(r!==-1){if(t>0){let d=e.substring(0,t);d&&n.push({type:"text",value:d})}let o=e.substring(t+1,r),g=o.indexOf(":");if(g!==-1){let d=o.substring(0,g),p=o.substring(g+1).split(",");n.push({type:"variable",name:d,params:p})}else n.push({type:"variable",name:o,params:[]});e=e.substring(r+1),t=0;continue}}t++,t===e.length&&n.push({type:"text",value:e})}}return n}processVariable(e,n=[]){let t=new Date;switch(e){case"YYYY":return t.getFullYear().toString();case"YY":return t.getFullYear().toString().slice(2);case"MMMM":return this.getMonthName(t.getMonth());case"MMM":return this.getMonthName(t.getMonth()).slice(0,3);case"MM":return(t.getMonth()+1).toString().padStart(2,"0");case"M":return(t.getMonth()+1).toString();case"DDD":return this.getDayOfYear(t).toString().padStart(3,"0");case"DD":return t.getDate().toString().padStart(2,"0");case"D":return t.getDate().toString();case"dddd":return this.getDayName(t.getDay());case"ddd":return this.getDayName(t.getDay()).slice(0,3);case"WW":return this.getWeekNumber(t).toString().padStart(2,"0");case"Q":return(Math.floor(t.getMonth()/3)+1).toString();case"HH":return t.getHours().toString().padStart(2,"0");case"H":return t.getHours().toString();case"mm":return t.getMinutes().toString().padStart(2,"0");case"m":return t.getMinutes().toString();case"ss":return t.getSeconds().toString().padStart(2,"0");case"s":return t.getSeconds().toString();case"SSS":return t.getMilliseconds().toString().padStart(3,"0");case"random":{let s=parseInt(n[0])||6;return this.generateRandomString(s)}case"uuid":return this.generateUUID();case"shortid":return this.generateShortId();case"hash":return this.createHash(n[0]||"");case"unixtime":{let s=parseInt(n[0])||10;return s>=2&&s<=36?Math.floor(Date.now()/1e3).toString(s):Math.floor(Date.now()/1e3).toString()}case"daytime":{let s=parseInt(n[0])||10,i=t.getHours()*3600+t.getMinutes()*60+t.getSeconds();return s>=2&&s<=36?i.toString(s):i.toString()}case"counter":if(n.length>0){if(n[0]==="reset")return this.globalCounter=1,this.namedCounters={},"";{let s=n[0];this.namedCounters[s]||(this.namedCounters[s]=1);let i=this.namedCounters[s];return this.namedCounters[s]++,i.toString()}}else{let s=this.globalCounter;return this.globalCounter++,s.toString()}case"hostname":return"device";case"username":return"user";case"lowercase":return(n[0]||"").toLowerCase();case"uppercase":return(n[0]||"").toUpperCase();case"slugify":return this.slugify(n[0]||"");case"clip":{let s="clipboard-content";if(n.length>0){let i=parseInt(n[0]);return s.slice(0,i)}return s.split(" ")[0]}case"clipword":{let i="clipboard content example".split(" "),r=parseInt(n[0])-1||0;return r>=0&&r<i.length?i[r]:""}default:return`{${e}${n.length>0?":"+n.join(","):""}}`}}getMonthName(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][e]}getDayName(e){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e]}getDayOfYear(e){let n=new Date(e.getFullYear(),0,0),t=e.getTime()-n.getTime(),s=1e3*60*60*24;return Math.floor(t/s)}getWeekNumber(e){let n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),t=n.getUTCDay()||7;n.setUTCDate(n.getUTCDate()+4-t);let s=new Date(Date.UTC(n.getUTCFullYear(),0,1));return Math.ceil(((n.getTime()-s.getTime())/864e5+1)/7)}generateUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let n=Math.random()*16|0;return(e==="x"?n:n&3|8).toString(16)})}generateShortId(){return Math.random().toString(36).substring(2,10)}createHash(e){let n=0;for(let t=0;t<e.length;t++){let s=e.charCodeAt(t);n=(n<<5)-n+s,n=n&n}return Math.abs(n).toString(16)}slugify(e){return e.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}generateRandomString(e){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="";for(let s=0;s<e;s++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}async createNote(e,n){e.endsWith(".md")||(e+=".md");let t=(0,a.normalizePath)(e);try{return await this.app.vault.create(t,n)}catch(s){throw new a.Notice(`Error creating note: ${s}`),s}}},S=class extends a.Modal{constructor(e,n){super(e);this.plugin=n}onOpen(){let{contentEl:e}=this;e.createEl("h2",{text:"Create note with template filename"}),e.createEl("label",{text:"Filename template:"}).setAttribute("for","template-input"),this.templateInput=e.createEl("input",{attr:{type:"text",id:"template-input"},value:this.plugin.settings.defaultTemplate,cls:"template-input-field"}),this.templateInput.addEventListener("input",()=>this.updatePreview());let t=e.createEl("div",{cls:"template-help"}).createEl("details");t.createEl("summary",{text:"Template syntax help"});let s=t.createEl("div");s.createEl("h4",{text:"Date & time"});let i=s.createEl("ul"),r=[{name:"YYYY",desc:"4-digit year (e.g., 2025)"},{name:"YY",desc:"2-digit year (e.g., 25)"},{name:"MM",desc:"2-digit month (01-12)"},{name:"M",desc:"Month without leading zero (1-12)"},{name:"MMMM",desc:"Full month name (January, February...)"},{name:"MMM",desc:"Short month name (Jan, Feb...)"},{name:"DD",desc:"2-digit day (01-31)"},{name:"D",desc:"Day without leading zero (1-31)"},{name:"DDD",desc:"Day of year (001-366)"},{name:"dddd",desc:"Full weekday name (Monday, Tuesday...)"},{name:"ddd",desc:"Short weekday name (Mon, Tue...)"},{name:"WW",desc:"Week number of year (01-53)"},{name:"Q",desc:"Quarter of year (1-4)"},{name:"HH",desc:"2-digit hour, 24-hour format (00-23)"},{name:"H",desc:"Hour without leading zero (0-23)"},{name:"mm",desc:"2-digit minute (00-59)"},{name:"m",desc:"Minute without leading zero (0-59)"},{name:"ss",desc:"2-digit second (00-59)"},{name:"s",desc:"Second without leading zero (0-59)"},{name:"SSS",desc:"3-digit millisecond (000-999)"}];this.createHelpList(i,r);let o=t.createEl("div");o.createEl("h4",{text:"Unique identifiers & timestamps"});let g=o.createEl("ul"),d=[{name:"{random:N}",desc:"Random string of N characters"},{name:"{uuid}",desc:"Generate a UUID/GUID"},{name:"{shortid}",desc:"Generate a shorter unique ID (8 chars)"},{name:"{unixtime:B}",desc:"Unix timestamp in base B (2-36)"},{name:"{daytime:B}",desc:"Seconds since midnight in base B (2-36)"},{name:"{hash:text}",desc:"Create a hash of provided text"}];this.createHelpList(g,d);let p=t.createEl("div");p.createEl("h4",{text:"Counter variables"});let C=p.createEl("ul"),b=[{name:"{counter}",desc:"Global auto-incrementing counter"},{name:"{counter:name}",desc:"Named counter (separate sequence)"},{name:"{counter:reset}",desc:"Reset all counters"}];this.createHelpList(C,b);let h=t.createEl("div");h.createEl("h4",{text:"System variables"});let Y=h.createEl("ul"),M=[{name:"{hostname}",desc:"Computer/device name"},{name:"{username}",desc:"Current user's name"}];this.createHelpList(Y,M);let f=t.createEl("div");f.createEl("h4",{text:"Text formatting"});let N=f.createEl("ul"),v=[{name:"{lowercase:text}",desc:"Convert text to lowercase"},{name:"{uppercase:text}",desc:"Convert text to uppercase"},{name:"{slugify:text}",desc:"Convert text to URL-friendly slug"}];this.createHelpList(N,v);let x=t.createEl("div");x.createEl("h4",{text:"Clipboard integration"});let H=x.createEl("ul"),w=[{name:"{clip}",desc:"First word from clipboard"},{name:"{clip:N}",desc:"First N characters from clipboard"},{name:"{clipword:N}",desc:"Nth word from clipboard"}];this.createHelpList(H,w),e.createEl("label",{text:"Preview:"}),this.previewEl=e.createEl("div",{cls:"template-preview"}),e.createEl("label",{text:"Note content:"}).setAttribute("for","content-input"),this.contentInput=e.createEl("textarea",{attr:{id:"content-input"},cls:"content-input-field",value:this.plugin.settings.defaultContent});let D=e.createEl("div",{cls:"button-container"});D.createEl("button",{text:"Cancel"}).addEventListener("click",()=>this.close()),D.createEl("button",{text:"Create",cls:"mod-cta"}).addEventListener("click",()=>this.createNote()),this.updatePreview()}createHelpList(e,n){n.forEach(t=>{let s=e.createEl("li");s.createEl("strong",{text:t.name}),s.createSpan({text:": "+t.desc})})}updatePreview(){let e=this.templateInput.value,n=this.plugin.processTemplate(e);this.previewEl.setText(n+".md")}async createNote(){let e=this.templateInput.value,n=this.contentInput.value,t=this.plugin.processTemplate(e);try{let s=await this.plugin.createNote(t,n);this.plugin.settings.defaultTemplate!==e&&(this.plugin.settings.defaultTemplate=e,await this.plugin.saveSettings()),this.plugin.settings.defaultContent!==n&&(this.plugin.settings.defaultContent=n,await this.plugin.saveSettings()),new a.Notice(`Created note: ${s.name}`);let i=this.app.workspace.getLeaf(!1);i&&await i.openFile(s),this.close()}catch(s){}}onClose(){let{contentEl:e}=this;e.empty()}},E=class extends a.PluginSettingTab{constructor(e,n){super(e,n);this.plugin=n}display(){let{containerEl:e}=this;e.empty(),e.addClass("template-filename-settings"),new a.Setting(e).setName("Default filename template").setDesc("The default template to use for new notes").addText(m=>m.setPlaceholder("YYYY-MM-DD_HH-mm-ss").setValue(this.plugin.settings.defaultTemplate).onChange(async u=>{this.plugin.settings.defaultTemplate=u,await this.plugin.saveSettings()})),new a.Setting(e).setName("Default note content").setDesc("The default content for new notes").addTextArea(m=>m.setPlaceholder("Enter default note content").setValue(this.plugin.settings.defaultContent).onChange(async u=>{this.plugin.settings.defaultContent=u,await this.plugin.saveSettings()})),new a.Setting(e).setName("Template syntax help").setHeading(),new a.Setting(e).setName("Date and time").setClass("setting-item-heading");let t=e.createDiv({cls:"setting-item-description"}).createEl("ul",{cls:"help-list"}),s=[{name:"YYYY",desc:"4-digit year (e.g., 2025)"},{name:"YY",desc:"2-digit year (e.g., 25)"},{name:"MM",desc:"2-digit month (01-12)"},{name:"M",desc:"Month without leading zero (1-12)"},{name:"MMMM",desc:"Full month name (January, February...)"},{name:"MMM",desc:"Short month name (Jan, Feb...)"},{name:"DD",desc:"2-digit day (01-31)"},{name:"D",desc:"Day without leading zero (1-31)"},{name:"DDD",desc:"Day of year (001-366)"},{name:"dddd",desc:"Full weekday name (Monday, Tuesday...)"},{name:"ddd",desc:"Short weekday name (Mon, Tue...)"},{name:"WW",desc:"Week number of year (01-53)"},{name:"Q",desc:"Quarter of year (1-4)"},{name:"HH",desc:"2-digit hour, 24-hour format (00-23)"},{name:"H",desc:"Hour without leading zero (0-23)"},{name:"mm",desc:"2-digit minute (00-59)"},{name:"m",desc:"Minute without leading zero (0-59)"},{name:"ss",desc:"2-digit second (00-59)"},{name:"s",desc:"Second without leading zero (0-59)"},{name:"SSS",desc:"3-digit millisecond (000-999)"}];this.createHelpList(t,s),new a.Setting(e).setName("Unique identifiers and timestamps").setClass("setting-item-heading");let r=e.createDiv({cls:"setting-item-description"}).createEl("ul",{cls:"help-list"}),o=[{name:"{random:N}",desc:"Random string of N characters"},{name:"{uuid}",desc:"Generate a UUID/GUID"},{name:"{shortid}",desc:"Generate a shorter unique ID (8 chars)"},{name:"{unixtime:B}",desc:"Unix timestamp in base B (2-36)"},{name:"{daytime:B}",desc:"Seconds since midnight in base B (2-36)"},{name:"{hash:text}",desc:"Create a hash of provided text"}];this.createHelpList(r,o),new a.Setting(e).setName("Counter variables").setClass("setting-item-heading");let d=e.createDiv({cls:"setting-item-description"}).createEl("ul",{cls:"help-list"}),p=[{name:"{counter}",desc:"Global auto-incrementing counter"},{name:"{counter:name}",desc:"Named counter (separate sequence)"},{name:"{counter:reset}",desc:"Reset all counters"}];this.createHelpList(d,p),new a.Setting(e).setName("System variables").setClass("setting-item-heading");let b=e.createDiv({cls:"setting-item-description"}).createEl("ul",{cls:"help-list"}),h=[{name:"{hostname}",desc:"Computer/device name"},{name:"{username}",desc:"Current user's name"}];this.createHelpList(b,h),new a.Setting(e).setName("Text formatting").setClass("setting-item-heading");let M=e.createDiv({cls:"setting-item-description"}).createEl("ul",{cls:"help-list"}),f=[{name:"{lowercase:text}",desc:"Convert text to lowercase"},{name:"{uppercase:text}",desc:"Convert text to uppercase"},{name:"{slugify:text}",desc:"Convert text to URL-friendly slug"}];this.createHelpList(M,f),new a.Setting(e).setName("Clipboard integration").setClass("setting-item-heading");let v=e.createDiv({cls:"setting-item-description"}).createEl("ul",{cls:"help-list"}),x=[{name:"{clip}",desc:"First word from clipboard"},{name:"{clip:N}",desc:"First N characters from clipboard"},{name:"{clipword:N}",desc:"Nth word from clipboard"}];this.createHelpList(v,x),new a.Setting(e).setName("Examples").setHeading();let w=e.createDiv({cls:"setting-item-description examples"}).createEl("ul",{cls:"example-list"});[{template:"YYYY-MM-DD_note",desc:"2025-04-24_note.md"},{template:"YYYY-MM-DD_HH-mm-ss",desc:"2025-04-24_15-30-45.md"},{template:"MMM-D-YYYY_meeting-notes",desc:"Apr-24-2025_meeting-notes.md"},{template:"Q-YYYY-{random:6}",desc:"2-2025-a7bF9c.md"},{template:"note_{random:6}",desc:"note_a7bF9c.md"},{template:"note_{shortid}",desc:"note_2a9d8f7b.md"},{template:"{uuid}",desc:"123e4567-e89b-12d3-a456-426614174000.md"},{template:"note_{unixtime:36}",desc:"note_1c9rbbk.md (Unix time in base 36)"},{template:"log_{daytime:16}",desc:"log_12ab3.md (Seconds since midnight in base 16)"},{template:"entry-{counter}",desc:"entry-1.md, entry-2.md, etc."},{template:"{slugify:Meeting Notes 2025}",desc:"meeting-notes-2025.md"}].forEach(m=>{let u=w.createEl("li");u.createEl("code",{text:m.template}),u.createSpan({text:" \u2192 "+m.desc})})}createHelpList(e,n){n.forEach(t=>{let s=e.createEl("li");s.createEl("strong",{text:t.name}),s.createSpan({text:": "+t.desc})})}};

/* nosourcemap */